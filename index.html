<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System CMD Master Tool</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #e2e8f0;
        }
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        /* Custom Scrollbar for the terminal window */
        .terminal-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .terminal-scroll::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        .terminal-scroll::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        .terminal-scroll::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (Embedded to prevent external library errors) ---
        const IconWrapper = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const Icons = {
            Terminal: (props) => <IconWrapper {...props}><polyline points="4 17 10 11 4 5" /><line x1="12" x2="20" y1="19" y2="19" /></IconWrapper>,
            ShieldCheck: (props) => <IconWrapper {...props}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" /><path d="m9 12 2 2 4-4" /></IconWrapper>,
            Zap: (props) => <IconWrapper {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" /></IconWrapper>,
            Wifi: (props) => <IconWrapper {...props}><path d="M5 12.55a11 11 0 0 1 14.08 0" /><path d="M1.42 9a16 16 0 0 1 21.16 0" /><path d="M8.53 16.11a6 6 0 0 1 6.95 0" /><line x1="12" y1="20" x2="12.01" y2="20" /></IconWrapper>,
            Layers: (props) => <IconWrapper {...props}><polygon points="12 2 2 7 12 12 22 7 12 2" /><polyline points="2 17 12 22 22 17" /><polyline points="2 12 12 17 22 12" /></IconWrapper>,
            Copy: (props) => <IconWrapper {...props}><rect width="14" height="14" x="8" y="8" rx="2" ry="2" /><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" /></IconWrapper>,
            LogOut: (props) => <IconWrapper {...props}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /><polyline points="16 17 21 12 16 7" /><line x1="21" x2="9" y1="12" y2="12" /></IconWrapper>,
            Lock: (props) => <IconWrapper {...props}><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></IconWrapper>,
            Info: (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10" /><path d="M12 16v-4" /><path d="M12 8h.01" /></IconWrapper>,
            Check: (props) => <IconWrapper {...props}><polyline points="20 6 9 17 4 12" /></IconWrapper>,
            HardDrive: (props) => <IconWrapper {...props}><line x1="22" x2="2" y1="12" y2="12" /><path d="M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z" /><line x1="6" x2="6.01" y1="16" y2="16" /><line x1="10" x2="10.01" y1="16" y2="16" /></IconWrapper>,
            RefreshCw: (props) => <IconWrapper {...props}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" /><path d="M21 3v5h-5" /><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" /><path d="M8 16H3v5" /></IconWrapper>,
            Globe: (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10" /><line x1="2" x2="22" y1="12" y2="12" /><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" /></IconWrapper>,
            Activity: (props) => <IconWrapper {...props}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></IconWrapper>,
            Gauge: (props) => <IconWrapper {...props}><path d="M12 14c2.21 0 4-1.79 4-4V5H8v5c0 2.21 1.79 4 4 4z" /><path d="M12 14v8" /><path d="M4 14v1a8 8 0 0 0 16 0v-1" /></IconWrapper>
        };

        const { Terminal, ShieldCheck, Zap, Wifi, Layers, Copy, LogOut, Lock, Info, Check, HardDrive, RefreshCw, Globe, Activity, Gauge } = Icons;

        // --- DATA: COMMAND CATEGORIES ---
        const cmdCategories = [
            {
                id: 'basic',
                label: 'Basic System Health Check',
                icon: <ShieldCheck size={20} />,
                description: 'Scans and fixes corrupted Windows system files. Does NOT touch personal data.',
                commands: [
                    'sfc /scannow',
                    'DISM /Online /Cleanup-Image /CheckHealth',
                    'DISM /Online /Cleanup-Image /ScanHealth',
                    'DISM /Online /Cleanup-Image /RestoreHealth',
                    'perfmon /report'
                ]
            },
            {
                id: 'speed',
                label: 'Internet Speed Test (Mbps)',
                icon: <Gauge size={20} />,
                description: 'Tests Download (20MB) and Upload (5MB) speeds. Includes safety cleanup so no temp files remain.',
                commands: [
                    'powershell -NoProfile -Command "Write-Host \'Testing Speed...\'; try { $f=$env:TEMP+\'\\speed.tmp\'; $u=\'https://speed.cloudflare.com/__down?bytes=20971520\'; $s=Get-Date; Invoke-WebRequest $u -OutFile $f -UseBasicParsing; $t=(Get-Date)-$s; $dl=(167.77/$t.TotalSeconds); Write-Host (\'Download: {0:N2} Mbps\' -f $dl) -ForegroundColor Green } catch { Write-Host \'DL Fail\' } finally { if(Test-Path $f){del $f -Force} }; try { $b=New-Object byte[] 5242880; $s=Get-Date; Invoke-WebRequest \'https://speed.cloudflare.com/__up\' -Method Post -Body $b -UseBasicParsing | Out-Null; $t=(Get-Date)-$s; $ul=(41.94/$t.TotalSeconds); Write-Host (\'Upload:   {0:N2} Mbps\' -f $ul) -ForegroundColor Yellow } catch { Write-Host \'UL Fail\' }"',
                    'start https://fast.com',
                    'start https://www.speedtest.net'
                ]
            },
            {
                id: 'diagnostics',
                label: 'Full System Diagnostics',
                icon: <Activity size={20} />,
                description: 'Generates reports on Desktop for Peripherals, Power/Battery, Wi-Fi, Internet & Performance.',
                commands: [
                    'mkdir "%userprofile%\\Desktop\\PC_Health_Check"',
                    'powercfg /batteryreport /output "%userprofile%\\Desktop\\PC_Health_Check\\Battery.html"',
                    'netsh wlan show all > "%userprofile%\\Desktop\\PC_Health_Check\\Wifi_Info.txt"',
                    'wmic path win32_pnpentity get caption, status > "%userprofile%\\Desktop\\PC_Health_Check\\Peripherals.txt"',
                    'typeperf "\\Processor(_Total)\\% Processor Time" -sc 15 > "%userprofile%\\Desktop\\PC_Health_Check\\CPU_Usage.txt"',
                    'ping 8.8.8.8 -n 10 > "%userprofile%\\Desktop\\PC_Health_Check\\Internet_Ping.txt"',
                    'echo "All reports generated in Desktop\\PC_Health_Check folder."'
                ]
            },
            {
                id: 'slow',
                label: 'Fix Slow System (Safe)',
                icon: <Zap size={20} />,
                description: 'Clears temp files, resets memory cache, and restarts Explorer. No data loss.',
                commands: [
                    'del /q /f /s %temp%\\*',
                    'del /q /f /s C:\\Windows\\Temp\\*',
                    'del /q /f /s C:\\Windows\\Prefetch\\*',
                    'echo off | clip',
                    'taskkill /f /im explorer.exe',
                    'start explorer.exe'
                ]
            },
            {
                id: 'chrome',
                label: 'Chrome Safe Clean',
                icon: <Layers size={20} />,
                description: 'Clears Cache, GPU Cache, and Code Cache. KEEPS passwords, bookmarks, and login sessions safe.',
                commands: [
                    'taskkill /f /im chrome.exe',
                    'del /q /f /s "%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Cache\\*"',
                    'del /q /f /s "%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\GPUCache\\*"',
                    'del /q /f /s "%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Code Cache\\*"',
                    'start chrome'
                ]
            },
            {
                id: 'edge',
                label: 'Edge Safe Clean',
                icon: <Globe size={20} />,
                description: 'Clears Microsoft Edge Cache, GPU Cache, and Code Cache. Safe for passwords and bookmarks.',
                commands: [
                    'taskkill /f /im msedge.exe',
                    'del /q /f /s "%LOCALAPPDATA%\\Microsoft\\Edge\\User Data\\Default\\Cache\\*"',
                    'del /q /f /s "%LOCALAPPDATA%\\Microsoft\\Edge\\User Data\\Default\\GPUCache\\*"',
                    'del /q /f /s "%LOCALAPPDATA%\\Microsoft\\Edge\\User Data\\Default\\Code Cache\\*"',
                    'start msedge'
                ]
            },
            {
                id: 'network',
                label: 'Network Refresh (Safe)',
                icon: <Wifi size={20} />,
                description: 'Flushes DNS to fix connectivity issues. Does NOT reset IP settings.',
                commands: [
                    'ipconfig /flushdns',
                    'ipconfig /release',
                    'ipconfig /renew'
                ]
            },
            {
                id: 'disk',
                label: 'Disk Health Analysis',
                icon: <HardDrive size={20} />,
                description: 'Checks S.M.A.R.T status and scans specific drive partitions for errors (Read Only).',
                commands: [
                    'wmic diskdrive get status',
                    'chkdsk C: /scan',
                    'defrag C: /Analyze'
                ]
            },
            {
                id: 'update',
                label: 'Fix Windows Update',
                icon: <RefreshCw size={20} />,
                description: 'Fixes stuck updates and high CPU usage by resetting the update download cache.',
                commands: [
                    'net stop wuauserv',
                    'net stop bits',
                    'del /f /s /q C:\\Windows\\SoftwareDistribution\\Download\\*',
                    'net start wuauserv',
                    'net start bits'
                ]
            },
            {
                id: 'lowram',
                label: 'Low RAM Optimization',
                icon: <Layers size={20} />,
                description: 'Stops heavy background apps and flushes memory for 4GB/8GB RAM systems.',
                commands: [
                    'taskkill /f /im OneDrive.exe',
                    'taskkill /f /im Teams.exe',
                    'taskkill /f /im msedge.exe',
                    'echo off | clip',
                    'taskkill /f /im explorer.exe',
                    'start explorer.exe'
                ]
            },
            {
                id: 'oneclick',
                label: 'Ultimate One-Click Fix',
                icon: <Terminal size={20} />,
                description: 'Runs ALL safe checks and cleaners in one go.',
                commands: [
                    'taskkill /f /im chrome.exe',
                    'sfc /scannow',
                    'del /q /f /s %temp%\\*',
                    'del /q /f /s C:\\Windows\\Temp\\*',
                    'ipconfig /flushdns',
                    'del /q /f /s "%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Default\\Cache\\*"',
                    'echo off | clip',
                    'start chrome'
                ]
            }
        ];

        // --- COMPONENT: LOGIN SCREEN ---
        const LoginScreen = ({ onLogin }) => {
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                // Simulating Auth - In real app this goes to backend
                if (username === 'admin' && password === 'admin') {
                    onLogin(username);
                } else {
                    setError('Invalid Credentials. Try admin / admin');
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-slate-900 p-4">
                    <div className="bg-slate-800 p-8 rounded-xl shadow-2xl w-full max-w-md border border-slate-700">
                        <div className="flex justify-center mb-6">
                            <div className="bg-blue-600 p-3 rounded-full">
                                <Lock className="text-white" size={32} />
                            </div>
                        </div>
                        <h2 className="text-2xl font-bold text-center text-white mb-2">System CMD Access</h2>
                        <p className="text-slate-400 text-center mb-6">Enter your credentials to continue</p>
                        
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-slate-300 mb-1">User ID</label>
                                <input 
                                    type="text" 
                                    className="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition"
                                    placeholder="Enter User ID"
                                    value={username}
                                    onChange={(e) => setUsername(e.target.value)}
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-slate-300 mb-1">Password</label>
                                <input 
                                    type="password" 
                                    className="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white focus:outline-none focus:border-blue-500 transition"
                                    placeholder="Enter Password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                />
                            </div>
                            {error && <p className="text-red-400 text-sm text-center">{error}</p>}
                            <button 
                                type="submit" 
                                className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition duration-200 transform active:scale-95"
                            >
                                Secure Login
                            </button>
                        </form>
                        <div className="mt-4 text-center text-xs text-slate-500">
                            Default: admin / admin
                        </div>
                    </div>
                </div>
            );
        };

        // --- COMPONENT: MAIN DASHBOARD ---
        const Dashboard = ({ user, onLogout }) => {
            const [selectedId, setSelectedId] = useState(cmdCategories[0].id);
            const [copiedIndex, setCopiedIndex] = useState(null);
            
            const activeCategory = cmdCategories.find(c => c.id === selectedId);

            const copyToClipboard = (text, index) => {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy'); // Legacy support for iframe/older browsers
                document.body.removeChild(textArea);
                
                setCopiedIndex(index);
                setTimeout(() => setCopiedIndex(null), 2000);
            };

            const copyAll = () => {
                const allCmds = activeCategory.commands.join('\n');
                copyToClipboard(allCmds, 'all');
            };

            return (
                <div className="min-h-screen bg-slate-900 flex flex-col md:flex-row">
                    
                    {/* Sidebar / Topbar */}
                    <aside className="w-full md:w-64 bg-slate-800 border-r border-slate-700 flex flex-col">
                        <div className="p-6 border-b border-slate-700 flex items-center justify-between">
                            <h1 className="text-xl font-bold text-blue-400 tracking-wider">CMD MASTER</h1>
                            <Terminal size={20} className="text-blue-400"/>
                        </div>
                        
                        <div className="p-4 flex-grow overflow-y-auto">
                            <label className="text-xs font-bold text-slate-500 uppercase tracking-widest mb-3 block">Select Operation</label>
                            
                            {/* Mobile Dropdown Replacement for Desktop List */}
                            <div className="md:hidden mb-4">
                                <select 
                                    className="w-full bg-slate-900 text-white p-3 rounded border border-slate-600"
                                    value={selectedId}
                                    onChange={(e) => setSelectedId(e.target.value)}
                                >
                                    {cmdCategories.map(cat => (
                                        <option key={cat.id} value={cat.id}>{cat.label}</option>
                                    ))}
                                </select>
                            </div>

                            {/* Desktop Sidebar Links */}
                            <div className="hidden md:flex flex-col space-y-2">
                                {cmdCategories.map((cat) => (
                                    <button
                                        key={cat.id}
                                        onClick={() => setSelectedId(cat.id)}
                                        className={`flex items-center space-x-3 p-3 rounded-lg transition duration-200 text-sm font-medium text-left ${
                                            selectedId === cat.id 
                                            ? 'bg-blue-600 text-white shadow-lg' 
                                            : 'text-slate-400 hover:bg-slate-700 hover:text-white'
                                        }`}
                                    >
                                        {cat.icon}
                                        <span>{cat.label}</span>
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="p-4 border-t border-slate-700 bg-slate-800/50">
                            <div className="flex items-center justify-between mb-3">
                                <div className="flex items-center space-x-2">
                                    <div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                    <span className="text-xs text-slate-400">User: <span className="text-white font-bold">{user}</span></span>
                                </div>
                            </div>
                            <button 
                                onClick={onLogout}
                                className="w-full flex items-center justify-center space-x-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 p-2 rounded-lg transition text-sm"
                            >
                                <LogOut size={16} />
                                <span>Logout</span>
                            </button>
                        </div>
                    </aside>

                    {/* Main Content */}
                    <main className="flex-1 p-4 md:p-8 overflow-y-auto">
                        <div className="max-w-4xl mx-auto">
                            
                            {/* Header Section */}
                            <header className="mb-8">
                                <div className="flex items-center space-x-3 mb-2">
                                    <div className="p-2 bg-blue-500/20 rounded-lg text-blue-400">
                                        {activeCategory.icon}
                                    </div>
                                    <h2 className="text-3xl font-bold text-white">{activeCategory.label}</h2>
                                </div>
                                <div className="flex items-start space-x-2 bg-slate-800 p-4 rounded-lg border border-slate-700 text-slate-300">
                                    <Info className="flex-shrink-0 mt-1 text-blue-400" size={18} />
                                    <p>{activeCategory.description}</p>
                                </div>
                            </header>

                            {/* Command Output Area */}
                            <div className="bg-black rounded-xl border border-slate-700 shadow-2xl overflow-hidden">
                                {/* Terminal Header */}
                                <div className="bg-slate-800 px-4 py-2 flex items-center justify-between border-b border-slate-700">
                                    <div className="flex space-x-2">
                                        <div className="w-3 h-3 rounded-full bg-red-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-yellow-500"></div>
                                        <div className="w-3 h-3 rounded-full bg-green-500"></div>
                                    </div>
                                    <div className="text-xs text-slate-500 font-mono">Administrator: Command Prompt</div>
                                    <button 
                                        onClick={copyAll}
                                        className="flex items-center space-x-1 text-xs bg-slate-700 hover:bg-blue-600 text-white px-3 py-1 rounded transition"
                                    >
                                        {copiedIndex === 'all' ? <Check size={14} /> : <Copy size={14} />}
                                        <span>Copy All</span>
                                    </button>
                                </div>

                                {/* Terminal Body */}
                                <div className="p-6 font-mono text-sm md:text-base terminal-scroll bg-[#0c0c0c] min-h-[300px]">
                                    {activeCategory.commands.map((cmd, index) => (
                                        <div key={index} className="group flex items-start justify-between mb-4 hover:bg-slate-900/50 p-2 rounded -mx-2 transition">
                                            <div className="break-all pr-4">
                                                <span className="text-slate-500 select-none mr-2">C:\Windows\System32&gt;</span>
                                                <span className="text-green-400">{cmd}</span>
                                            </div>
                                            <button 
                                                onClick={() => copyToClipboard(cmd, index)}
                                                className="opacity-0 group-hover:opacity-100 transition text-slate-400 hover:text-white p-1"
                                                title="Copy line"
                                            >
                                                {copiedIndex === index ? <Check size={16} className="text-green-500"/> : <Copy size={16}/>}
                                            </button>
                                        </div>
                                    ))}
                                    <div className="animate-pulse text-green-400 font-bold">_</div>
                                </div>
                            </div>

                            <div className="mt-6 text-center text-xs text-slate-500">
                                <p>Note: Always run Command Prompt as <span className="text-white">Administrator</span> before pasting these commands.</p>
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        // --- APP ROOT ---
        const App = () => {
            const [user, setUser] = useState(null);

            // Simple initialization check
            useEffect(() => {
                // Any specific init logic if needed
            }, []);

            if (!user) {
                return <LoginScreen onLogin={setUser} />;
            }

            return <Dashboard user={user} onLogout={() => setUser(null)} />;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
